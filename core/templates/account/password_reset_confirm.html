{% extends "base.html" %}
{% block title %}Definir nova senha{% endblock %}

{% block content %}
<div class="d-flex justify-content-center">
  <section class="auth-wrap w-100" style="max-width:520px;">
    <div class="card bg-dark border-secondary text-light">
      <div class="card-body p-4">

        <div class="d-flex align-items-center gap-2 mb-2">
          <span class="chip chip-gold"><i class="bi bi-key-fill"></i> Seguran√ßa</span>
        </div>

        <h1 class="h4 text-warning m-0">Definir nova senha</h1>
        <div class="gradient-bar mt-2 mb-3"></div>

        <!-- Exibe o username -->
        <div class="mb-3">
          <div class="text-gray input-icon">
            <i class="bi bi-person-fill"></i>
            {{ username}}
          </div>
        </div>

        {% if form.errors %}
          <div class="alert alert-danger frost-alert mb-3 has-errors" role="alert">
            <i class="bi bi-exclamation-triangle-fill me-1"></i>
            <strong>Ops!</strong> Verifique os campos abaixo.
          </div>
        {% endif %}

        <form method="post" novalidate>
          {% csrf_token %}

          <div class="mb-3">
            <label for="{{ form.new_password1.id_for_label }}" class="form-label">Nova senha</label>
            <div class="input-icon">
              <i class="bi bi-lock-fill"></i>
              {{ form.new_password1 }}
            </div>
          </div>

          <div class="mb-3">
            <label for="{{ form.new_password2.id_for_label }}" class="form-label">Confirme a nova senha</label>
            <div class="input-icon">
              <i class="bi bi-lock-fill"></i>
              {{ form.new_password2 }}
            </div>
          </div>

          <div class="soft-divider"></div>

          <button class="btn btn-warning glow-btn w-100" type="submit">
            <i class="bi bi-check2-circle me-1"></i>
            Salvar nova senha
          </button>
        </form>

      </div>
    </div>
  </section>
</div>
{% endblock %}
